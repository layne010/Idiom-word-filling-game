<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆè¯­å¡«å­—æ¸¸æˆ</title>
    <style>
        body {
            font-family: 'SimSun', serif;
            background-color: #f0e6d2;
            color: #333;
            text-align: center;
            padding: 50px;
        }

        h1 {
            font-size: 36px;
            color: #6b4e3d;
        }

        .idiom-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .idiom-box {
            width: 50px;
            height: 50px;
            background-color: white;
            border: 1px solid #6b4e3d;
            margin: 0 5px;
            font-size: 24px;
            line-height: 50px;
            cursor: text;
        }

        button {
            font-size: 18px;
            padding: 8px 20px;
            background-color: #6b4e3d;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #8a6b57;
        }

        #result {
            font-size: 20px;
            margin: 20px 0;
        }

        /* åé¦ˆè¡¨å•æ ·å¼ */
        .feedback-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(44, 62, 80, 0.9);
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            transform: translateX(110%);
            transition: transform 0.3s;
            z-index: 100;
        }

        .feedback-container.active {
            transform: translateX(0);
        }

        .feedback-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #e67e22;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .feedback-form input,
        .feedback-form textarea {
            width: 100%;
            padding: 8px;
            margin: 8px 0;
            background: rgba(255,255,255,0.1);
            border: 1px solid #6b4e3d;
            border-radius: 4px;
            color: white;
        }

        .feedback-form button {
            background: #27ae60;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }

        .status-message {
            color: #2ecc71;
            text-align: center;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>

<body>
    <h1>æˆè¯­å¡«å­—æ¸¸æˆ</h1>
    <div class="idiom-container" id="idiom-boxes"></div>
    <button onclick="checkAnswer()">æäº¤</button>
    <div id="result"></div>

    <!-- åé¦ˆè¡¨å• -->
    <button class="feedback-toggle">ğŸ’¬</button>
    <div class="feedback-container">
        <form class="feedback-form" id="feedbackForm"
            action="https://api.web3forms.com/submit"
            method="POST"
            enctype="multipart/form-data">
            
            <input type="hidden" name="access_key" value="42f0c9fe-4dce-4ff2-9d54-fd4384369d9f">
            <input type="hidden" name="_template" value="basic">
            <input type="hidden" name="_subject" value="æˆè¯­å¡«å­—æ¸¸æˆåé¦ˆ">
            <input type="hidden" name="_redirect" value="https://layne010.github.io/Idiom-word-filling-game/">
            
            <input type="text" name="name" placeholder="æ˜µç§°ï¼ˆå¯é€‰ï¼‰">
            <input type="email" name="email" placeholder="é‚®ç®±ï¼ˆå¯é€‰ï¼‰">
            <textarea name="message" rows="4" placeholder="æ‚¨çš„å»ºè®®..." required></textarea>
            <button type="submit">å‘é€åé¦ˆ</button>
            <div class="status-message" id="statusMessage">åé¦ˆå·²å‘é€ï¼</div>
        </form>
    </div>

    <script>
        const idioms = [
           "ä¸€é©¬å½“å…ˆ", "äºŒè¯ä¸è¯´", "ä¸‰é¡¾èŒ…åº", "å››é¢æ¥šæ­Œ",
  "äº”æ¹–å››æµ·", "å…­ç¥æ— ä¸»", "ä¸ƒçªç”ŸçƒŸ", "å…«é¢ç²ç‘",
  "ä¹ç‰›ä¸€æ¯›", "åå…¨åç¾", "ä¹æ­»ä¸€ç”Ÿ", "å‡¿å£å€Ÿå…‰",
  "å›¾è°‹ä¸è½¨", "ä¸ç¦»ä¸å¼ƒ", "æ°”è±¡ä¸‡åƒ", "ç”»é¾™ç‚¹ç›",
  "å®ˆæ ªå¾…å…”", "æ¯å¼“è›‡å½±", "å¶å…¬å¥½é¾™", "ç‹å‡è™å¨",
  "äº¡ç¾Šè¡¥ç‰¢", "åˆ»èˆŸæ±‚å‰‘", "æ»¥ç«½å……æ•°", "åäº•è§‚å¤©",
  "æƒŠå¼“ä¹‹é¸Ÿ", "ç”»è›‡æ·»è¶³", "ä¹°æ¤Ÿè¿˜ç ", "è‡ªç›¸çŸ›ç›¾",
  "æ©è€³ç›—é“ƒ", "å¡ç¿å¤±é©¬", "æ è‹—åŠ©é•¿", "å—è¾•åŒ—è¾™",
  "é»”é©´æŠ€ç©·", "é‚¯éƒ¸å­¦æ­¥", "ä¸œæ–½æ•ˆé¢¦", "è³è‡‚å½“è½¦",
  "æ€é¸¡å–åµ", "é¥®é¸©æ­¢æ¸´", "æœ›æ¢…æ­¢æ¸´", "ç”»é¥¼å……é¥¥",
  "ç²¾å«å¡«æµ·", "æ„šå…¬ç§»å±±", "å¤¸çˆ¶é€æ—¥", "å¥³å¨²è¡¥å¤©",
  "å…«ä»™è¿‡æµ·", "å«¦å¨¥å¥”æœˆ", "åç¾¿å°„æ—¥", "å¤§ç¦¹æ²»æ°´",
  "ç‰›éƒç»‡å¥³", "å¤©è¡£æ— ç¼", "æµ·å¸‚èœƒæ¥¼", "ä¸–å¤–æ¡ƒæº",
  "ç«ä¸­å–æ —", "æ°´ä¸­ææœˆ", "é•œèŠ±æ°´æœˆ", "ç©ºä¸­æ¥¼é˜",
  "æ°´æ»´çŸ³ç©¿", "ç»³é”¯æœ¨æ–­", "é“æµæˆé’ˆ", "é”²è€Œä¸èˆ",
  "ç™¾æŠ˜ä¸æŒ ", "æŒä¹‹ä»¥æ’", "åšæŒä¸æ‡ˆ", "è‡ªå¼ºä¸æ¯",
  "å§è–ªå°èƒ†", "æ‚¬æ¢åˆºè‚¡", "å›Šè¤æ˜ é›ª", "å‡¿å£å·å…‰",
  "ç¨‹é—¨ç«‹é›ª", "é—»é¸¡èµ·èˆ", "åºŸå¯å¿˜é£Ÿ", "å¤œä»¥ç»§æ—¥",
  "ä¸“å¿ƒè‡´å¿—", "èšç²¾ä¼šç¥", "å…¨ç¥è´¯æ³¨", "ç›®ä¸è½¬ç›",
  "ä¸¾ä¸€åä¸‰", "è§¦ç±»æ—é€š", "èä¼šè´¯é€š", "å­¦ä»¥è‡´ç”¨",
  "æ¸©æ•…çŸ¥æ–°", "å¾ªåºæ¸è¿›", "æ—¥ç§¯æœˆç´¯", "åšç§¯è–„å‘",
  "é«˜ç»è¿œç©", "æ·±è°‹è¿œè™‘", "è¶³æ™ºå¤šè°‹", "ç¥æœºå¦™ç®—",
  "æ–™äº‹å¦‚ç¥", "æœªé›¨ç»¸ç¼ª", "è¿ç­¹å¸·å¹„", "å†³èƒœåƒé‡Œ",
  "å…µä¸åŒè¯ˆ", "å£°ä¸œå‡»è¥¿", "è°ƒè™ç¦»å±±", "é‡‘è‰è„±å£³",
  "å›´é­æ•‘èµµ", "æš—åº¦é™ˆä»“", "æ¬²æ“’æ•…çºµ", "åå®¢ä¸ºä¸»",
  "å‡ºå¥‡åˆ¶èƒœ", "çŸ¥å·±çŸ¥å½¼", "ç™¾æˆ˜ä¸æ®†", "æ”»å…¶ä¸å¤‡",
  "å‡ºå…¶ä¸æ„", "å…‹æ•Œåˆ¶èƒœ", "æ——å¼€å¾—èƒœ", "é©¬åˆ°æˆåŠŸ",
  "ä¸€é¼“ä½œæ°”", "åŠ¿å¦‚ç ´ç«¹", "æ‰€å‘æŠ«é¡", "æˆ˜æ— ä¸èƒœ",
  "å…µä¸´åŸä¸‹", "å››é¢æ¥šæ­Œ", "è‰æœ¨çš†å…µ", "é£å£°é¹¤å”³",
  "ç ´é‡œæ²‰èˆŸ", "èƒŒæ°´ä¸€æˆ˜", "å­¤æ³¨ä¸€æ·", "é“¤è€Œèµ°é™©",
  "å®ä¸ºç‰ç¢", "ä¸ä¸ºç“¦å…¨", "è§†æ­»å¦‚å½’", "å¤§ä¹‰å‡›ç„¶",
  "ä¸´å±ä¸æƒ§", "è§ä¹‰å‹‡ä¸º", "èˆå·±ä¸ºäºº", "å¤§å…¬æ— ç§",
  "é“é¢æ— ç§", "ä¸¤è¢–æ¸…é£", "é«˜é£äº®èŠ‚", "å…‰æ˜ç£Šè½",
  "é èº¬å°½ç˜", "æ­»è€Œåå·²", "å‘•å¿ƒæ²¥è¡€", "èµ¤èƒ†å¿ å¿ƒ",
  "å¿ è¨€é€†è€³", "è‰¯è¯è‹¦å£", "è®³ç–¾å¿ŒåŒ»", "é˜²å¾®æœæ¸",
  "å±…å®‰æ€å±", "æœªé›¨ç»¸ç¼ª", "æœ‰å¤‡æ— æ‚£", "é˜²æ‚£æœªç„¶",
  "äº¡ç¾Šè¡¥ç‰¢", "è§å…”é¡¾çŠ¬", "è¿·é€”çŸ¥è¿”", "æµªå­å›å¤´",
  "æ´—å¿ƒé©é¢", "ç—›æ”¹å‰é", "æ‚”è¿‡è‡ªæ–°", "è„±èƒæ¢éª¨",
  "æ”¹é‚ªå½’æ­£", "å›å¤´æ˜¯å²¸", "æ‚¬å´–å‹’é©¬", "æµªå­å›å¤´",
  "ç™¾ç‚¼æˆé’¢", "åƒé”¤ç™¾ç‚¼", "ç£¨æµæˆé’ˆ", "ç‰æ±äºæˆ",
  "è‰°éš¾å›°è‹¦", "ç‰æ±äºæˆ", "è‹¦å°½ç”˜æ¥", "å¦ææ³°æ¥",
  "æ—¶æ¥è¿è½¬", "å³°å›è·¯è½¬", "æŸ³æš—èŠ±æ˜", "ç»å¤„é€¢ç”Ÿ",
  "é€¢å‡¶åŒ–å‰", "é‡éš¾æˆç¥¥", "è½¬å±ä¸ºå®‰", "åŒ–é™©ä¸ºå¤·",
  "æµ·é˜”å¤©ç©º", "è™šæ€€è‹¥è°·", "å®½å®å¤§é‡", "è±è¾¾å¤§åº¦",
  "å¿è¾±è´Ÿé‡", "å¿æ°”åå£°", "å§”æ›²æ±‚å…¨", "é€†æ¥é¡ºå—",
  "ç™¾æŠ˜ä¸æŒ ", "åšéŸ§ä¸æ‹”", "é”²è€Œä¸èˆ", "æŒä¹‹ä»¥æ’",
  "æ°´æ»´çŸ³ç©¿", "ç»³é”¯æœ¨æ–­", "é“æµæˆé’ˆ", "ç£¨æµæˆé’ˆ",
  "å¤§æ™ºè‹¥æ„š", "å¤§å·§è‹¥æ‹™", "è™šæ€€è‹¥è°·", "æ·±è—è‹¥è™š",
  "é”‹èŠ’æ¯•éœ²", "æ‰åæ¨ªæº¢", "å‡ºç±»æ‹”èƒ", "é¹¤ç«‹é¸¡ç¾¤",
  "å“å°”ä¸ç¾¤", "è¶…ç¾¤ç»ä¼¦", "ç‹¬ä¸€æ— äºŒ", "ä¸¾ä¸–æ— åŒ",
  "ååˆ—å‰èŒ…", "é¦–å±ˆä¸€æŒ‡", "ç‹¬å é³Œå¤´", "å‡ºäººå¤´åœ°",
  "åŠŸæˆåå°±", "ååˆ©åŒæ”¶", "è¡£é”¦è¿˜ä¹¡", "å…‰å®—è€€ç¥–",
  "è£åå¯Œè´µ", "å¯Œè´µè£å", "é£é»„è…¾è¾¾", "å¹³æ­¥é’äº‘",
  "ä¸€æ­¥ç™»å¤©", "é’äº‘ç›´ä¸Š", "æ‰¶æ‘‡ç›´ä¸Š", "è’¸è’¸æ—¥ä¸Š",
  "æ¬£æ¬£å‘è£", "æ—¥æ–°æœˆå¼‚", "ä¸€æ—¥åƒé‡Œ", "çªé£çŒ›è¿›",
  "ç¬æ¯ä¸‡å˜", "åƒå˜ä¸‡åŒ–", "å˜åŒ–å¤šç«¯", "å˜å¹»è«æµ‹",
  "æ°”è±¡ä¸‡åƒ", "æ³¢æ¾œå£®é˜”", "æ±¹æ¶Œæ¾æ¹ƒ", "æƒŠæ¶›éª‡æµª",
  "é£å¹³æµªé™", "æ°´å¹³å¦‚é•œ", "æ³¢å…‰ç²¼ç²¼", "ç¢§æ³¢è¡æ¼¾",
  "å±±æ¸…æ°´ç§€", "é¸Ÿè¯­èŠ±é¦™", "èŠ±çº¢æŸ³ç»¿", "èºæ­Œç‡•èˆ",
  "ä¸‡ç´«åƒçº¢", "ç™¾èŠ±é½æ”¾", "æ˜¥æš–èŠ±å¼€", "æ˜¥æ„ç›ç„¶",
  "å¤æ—¥ç‚ç‚", "éª„é˜³ä¼¼ç«", "ç§‹é«˜æ°”çˆ½", "ç¡•æœç´¯ç´¯",
  "å†°å¤©é›ªåœ°", "å¤©å¯’åœ°å†»", "é“¶è£…ç´ è£¹", "åƒé‡Œå†°å°",
            // è¯·åœ¨æ­¤å¤„æ·»åŠ æ›´å¤šæˆè¯­
        ];

        let currentIdiom;
        let missingIndex;
        let missingBox;
        let usedIdioms = [];

        function newQuestion() {
            if (usedIdioms.length === idioms.length) {
                usedIdioms = [];
            }
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * idioms.length);
            } while (usedIdioms.includes(randomIndex));
            usedIdioms.push(randomIndex);
            currentIdiom = idioms[randomIndex];
            missingIndex = Math.floor(Math.random() * 4);
            const idiomBoxes = document.getElementById('idiom-boxes');
            idiomBoxes.innerHTML = '';
            for (let i = 0; i < 4; i++) {
                const box = document.createElement('div');
                box.classList.add('idiom-box');
                if (i === missingIndex) {
                    box.textContent = '';
                    missingBox = box;
                    box.contentEditable = true;
                    box.addEventListener('input', function () {
                        if (this.textContent.length > 1) {
                            this.textContent = this.textContent.slice(0, 1);
                        }
                    });
                } else {
                    box.textContent = currentIdiom[i];
                }
                idiomBoxes.appendChild(box);
            }
            document.getElementById('result').innerHTML = '';
        }

        function checkAnswer() {
            const userAnswer = missingBox.textContent;
            const correctAnswer = currentIdiom[missingIndex];
            const resultDiv = document.getElementById('result');
            if (userAnswer === correctAnswer) {
                resultDiv.innerHTML = `å›ç­”æ­£ç¡®ï¼è¿™ä¸ªæˆè¯­æ˜¯ ${currentIdiom} <button onclick="newQuestion()">ä¸‹ä¸€ä¸ª</button>`;
            } else {
                resultDiv.textContent = 'å›ç­”é”™è¯¯ï¼Œè¯·å†è¯•ä¸€æ¬¡ã€‚';
            }
        }

        newQuestion();

        // åé¦ˆè¡¨å•åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', () => {
            const feedbackToggle = document.querySelector('.feedback-toggle');
            const feedbackContainer = document.querySelector('.feedback-container');
            const form = document.getElementById('feedbackForm');
            const statusMsg = document.getElementById('statusMessage');

            feedbackToggle.addEventListener('click', () => {
                feedbackContainer.classList.toggle('active');
            });

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                statusMsg.style.display = 'block';

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: new FormData(form),
                        headers: { 'Accept': 'application/json' }
                    });

                    if (response.ok) {
                        form.reset();
                        setTimeout(() => {
                            statusMsg.style.display = 'none';
                            feedbackContainer.classList.remove('active');
                        }, 2000);
                    }
                } catch (error) {
                    alert('æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ');
                }
            });
        });
    </script>
</body>

</html>